<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.btcc.web.trade.mapper.PlusWithdrawOrDepositMapper">
    <select id="withdrawETH" resultType="java.util.Map" parameterType="java.util.Map">
        <![CDATA[
        select
            id,
            user_id,
            amount,
            date_add(created_at, interval 8 hour) as bj_time
        from
                bttx_coin_inout.digital_asset_deposit_withdraw
        where
                status = 3
                and currency = 'ETH'
                and created_at <= date_add(#{dateline},interval -8 hour)
                order by created_at
      ]]>
    </select>


    <select id="withdrawSuccessETH" resultType="java.util.Map" parameterType="java.util.Map">
        <![CDATA[
        select
            id,
            user_id,
            amount,
            date_add(created_at, interval 8 hour) as bj_time
        from
                bttx_coin_inout.digital_asset_deposit_withdraw
        where
                status in (7,6)
                and currency = 'ETH'
                and created_at >= date_add('2017-09-27 15:00:00',interval -8 hour)
                order by created_at
      ]]>
    </select>


    <select id="withdrawBCC" resultType="java.util.Map" parameterType="java.util.Map">
        <![CDATA[
        select
                id,
                user_id,
                amount,
                date_add(created_at, interval 8 hour) as bj_time
        from
                bttx_coin_inout.digital_asset_deposit_withdraw
        where
                status = 3
                and currency = 'BCC'
                and created_at <= date_add(#{dateline},interval -8 hour)
                order by created_at
      ]]>
    </select>


    <select id="withdrawSuccessBCC" resultType="java.util.Map" parameterType="java.util.Map">
        <![CDATA[
        select
                id,
                user_id,
                amount,
                date_add(created_at, interval 8 hour) as bj_time
        from
                bttx_coin_inout.digital_asset_deposit_withdraw
        where
                status in (7,6)
                and currency = 'BCC'
                and created_at >= date_add('2017-09-27 15:00:00',interval -8 hour)
                order by created_at
      ]]>
    </select>

    <select id="depositETH" resultType="java.util.Map">
        <![CDATA[
        select
                id,
                user_id,
                currency,
                amount,
                date_add(created_at, interval 8 hour) as bj_time
        from
                bttx_coin_inout.digital_asset_deposit_withdraw
        where
                type=0
                and date_add(created_at,interval 8 hour) >= '2017-09-27 15:00:00';
      ]]>
    </select>

</mapper>